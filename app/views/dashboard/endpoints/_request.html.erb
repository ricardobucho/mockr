<div class="list-group-item p-3" aria-current="true">
  <div class="d-flex w-100">
    <div class="col">
      <div class="mb-0 fw-semibold"><%= request.name %></div>
      <div>
        <span class="badge bg-<%= method_class_map[request.method] %> align-middle">
          <%= request.method %>
        </span>
        <span class="fst-italic align-middle">
          /<%= client.slug %><%= request.path unless request.path == "/" %>
        </span>
      </div>
    </div>
    <div class="col-auto">
      <div class="btn-group align-middle" role="group">
        <a
          href="<%= show_request_path(request.id) %>"
          class="btn btn-sm btn-success text-white"
          data-bs-toggle="tooltip"
          data-bs-title="Logs"
          data-turbo-frame="modal"
        >
          <i class="bi bi-braces"></i>
        </a>
      </div>
    </div>
  </div>

  <% if request.indices.any? %>
    <div class="row row-cols-2 mt-3">
      <% request.indices.each do |index| %>
        <%=
          render(
            "dashboard/endpoints/index",
            client: client,
            request: request,
            index: index,
          )
        %>
      <% end %>
    </div>
  <% end %>

  <% if request.responses.any? %>
    <div class="row row-cols-4 mt-3">
      <% request.responses.each do |response| %>
        <%=
          render(
            "dashboard/endpoints/response",
            client: client,
            request: request,
            response: response,
          )
        %>
      <% end %>
    </div>
  <% end %>
</div>
